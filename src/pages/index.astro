---
import Layout from "layouts/Layout.astro";
import Jumbotron from "components/Jumbotron.astro";
import Featured from "components/Featured.astro";
import CatchMe from "components/CatchMe.astro";
import Footer from "components/Footer.astro";
import { generateKeywords } from "config/seo";

import { getCollection } from "astro:content";

const allProjects = await getCollection("projects");
const projectsWithImageFull = allProjects.filter(
    (project) => project.data.image_full,
);
const projects = projectsWithImageFull
    .sort(() => Math.random() - 0.5)
    .slice(0, 3);
---

<Layout
    description="Full Stack Developer and Designer passionate about creating beautiful, functional web experiences. Explore my portfolio of modern web applications and creative projects."
    keywords={generateKeywords([
        "Portfolio",
        "Web Applications",
        "Creative Projects",
        "Modern Web",
        "Professional Portfolio",
    ])}
    type="website"
>
    <Jumbotron />
    <Featured projects={projects} />
    <CatchMe />
    <Footer />
</Layout>
